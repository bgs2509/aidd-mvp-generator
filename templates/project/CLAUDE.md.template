# {{PROJECT_NAME}}

> **Тип**: Целевой проект, использующий AIDD-MVP Generator
> **Создан**: {{CREATED_DATE}}
> **Режим**: {{MODE}}

---

## Точка входа

Этот проект использует фреймворк **AIDD-MVP Generator**, подключённый как Git Submodule.

| Документ | Путь | Назначение |
|----------|------|------------|
| Фреймворк | [.aidd/CLAUDE.md](.aidd/CLAUDE.md) | Правила и процесс разработки |
| Workflow | [.aidd/workflow.md](.aidd/workflow.md) | Пайплайн (этапы 0-8) |
| Conventions | [.aidd/conventions.md](.aidd/conventions.md) | Соглашения о коде |

---

## Быстрый старт

```bash
# Описать идею (CREATE) или фичу (FEATURE)
/idea "{{PROJECT_DESCRIPTION}}"

# Следовать пайплайну (этапы 0-8)
/init → /idea → /research → /plan → /generate → /review → /test → /validate → /deploy
```

---

## Slash-команды

> **Важно**: Claude Code не регистрирует команды из submodule автоматически.
> AI загружает инструкции из `.aidd/.claude/commands/` при обработке команды.

### Таблица команд

| # | Команда | Описание | Агент | Ворота IN | Ворота OUT |
|---|---------|----------|-------|-----------|------------|
| 0 | `/init` | Инициализация проекта | — | — | BOOTSTRAP_READY |
| 1 | `/idea` | Создание PRD документа | Аналитик | BOOTSTRAP_READY | PRD_READY |
| 2 | `/research` | Анализ кодовой базы | Исследователь | PRD_READY | RESEARCH_DONE |
| 3 | `/plan` | Архитектурный план (CREATE) | Архитектор | RESEARCH_DONE | PLAN_APPROVED |
| 3 | `/feature-plan` | План фичи (FEATURE) | Архитектор | RESEARCH_DONE | PLAN_APPROVED |
| 4 | `/generate` | Генерация кода | Реализатор | PLAN_APPROVED | IMPLEMENT_OK |
| 5 | `/review` | Код-ревью | Ревьюер | IMPLEMENT_OK | REVIEW_OK |
| 6 | `/test` | Тестирование и QA | QA | REVIEW_OK | QA_PASSED |
| 7 | `/validate` | Финальная проверка | Валидатор | QA_PASSED | ALL_GATES_PASSED |
| 8 | `/deploy` | Сборка и запуск | Валидатор | ALL_GATES_PASSED | DEPLOYED |

### Алгоритм выполнения команды для AI

Когда пользователь вводит команду (например, `/idea "описание"`):

1. **Проверить ворота**: Прочитать `.pipeline-state.json`, убедиться что Ворота IN пройдены
2. **Загрузить инструкции**: Прочитать `.aidd/.claude/commands/{command}.md`
3. **Загрузить роль**: Прочитать `.aidd/.claude/agents/{agent}.md` (если указан агент)
4. **Выполнить**: Следовать инструкциям из загруженных файлов
5. **Обновить состояние**: Записать результат в `.pipeline-state.json`

---

## Роли AI-агентов

| Роль | Файл инструкций | Этапы | Ответственность |
|------|-----------------|-------|-----------------|
| Аналитик | `.aidd/.claude/agents/analyst.md` | 1 | PRD, требования |
| Исследователь | `.aidd/.claude/agents/researcher.md` | 2 | Анализ кода/требований |
| Архитектор | `.aidd/.claude/agents/architect.md` | 3 | Проектирование |
| Реализатор | `.aidd/.claude/agents/implementer.md` | 4 | Генерация кода |
| Ревьюер | `.aidd/.claude/agents/reviewer.md` | 5 | Качество кода |
| QA | `.aidd/.claude/agents/qa.md` | 6 | Тестирование |
| Валидатор | `.aidd/.claude/agents/validator.md` | 7-8 | Финальная проверка, деплой |

---

## Порядок чтения файлов для AI

### При первом запуске (новая сессия)

```
1. ./CLAUDE.md                  ← Этот файл (контекст ЦП)
2. ./.pipeline-state.json       ← Состояние, режим, ворота
3. ./ai-docs/docs/              ← Существующие артефакты
4. ./.aidd/CLAUDE.md            ← Правила фреймворка
```

### При выполнении команды

```
1. ./.aidd/.claude/commands/{command}.md   ← Инструкции команды
2. ./.aidd/.claude/agents/{agent}.md       ← Инструкции роли (если есть)
3. ./.aidd/templates/documents/            ← Шаблоны (при создании)
```

---

## Состояние проекта

| Параметр | Значение |
|----------|----------|
| Текущий этап | См. `.pipeline-state.json` |
| Режим | {{MODE}} |
| Пройденные ворота | См. `.pipeline-state.json` |

---

## Структура проекта

```
{{PROJECT_NAME}}/
├── .aidd/                    ← Фреймворк (Git Submodule, НЕ МОДИФИЦИРОВАТЬ)
├── CLAUDE.md                 ← Этот файл
├── README.md                 ← Документация проекта
├── .pipeline-state.json      ← Состояние пайплайна
│
├── ai-docs/docs/             ← AI-генерируемые документы
│   ├── prd/                  ← PRD документы
│   ├── architecture/         ← Архитектурные планы
│   ├── plans/                ← Планы фич
│   └── reports/              ← Отчёты
│
├── services/                 ← Сервисы (генерируются на этапе 4)
│   ├── {name}_api/           ← Business API
│   ├── {name}_data/          ← Data API
│   └── ...
│
├── docs/api/                 ← API документация
│   └── openapi.yaml
│
├── nginx/                    ← Nginx конфигурация
├── docker-compose.yml        ← Docker Compose
├── Makefile                  ← Команды сборки
└── .env.example              ← Пример переменных окружения
```

Подробнее: [.aidd/docs/target-project-structure.md](.aidd/docs/target-project-structure.md)

---

## Специфика проекта

<!-- Заполняется по мере разработки -->

### Технологии

| Компонент | Технология |
|-----------|------------|
| Backend | Python 3.11+, FastAPI |
| Database | {{DATABASE}} |
| Cache | Redis (опционально) |
| Bot | Aiogram 3.x (если есть) |

### Внешние интеграции

<!-- Добавить по мере необходимости -->
- [ ] Telegram Bot API
- [ ] Email сервис
- [ ] Платёжная система

### Переменные окружения

```env
# Основные
DATABASE_URL=
REDIS_URL=

# Специфичные для проекта
# (добавить по мере разработки)
```

---

## Артефакты

| Этап | Артефакт | Путь |
|------|----------|------|
| 1. Идея | PRD | `ai-docs/docs/prd/{{PROJECT_SLUG}}-prd.md` |
| 2. Исследование | Research Report | `ai-docs/docs/research/{{PROJECT_SLUG}}-research.md` |
| 3. Архитектура | Architecture Plan | `ai-docs/docs/architecture/{{PROJECT_SLUG}}-plan.md` |
| 4. Реализация | Код сервисов | `services/` |
| 5. Ревью | Review Report | `ai-docs/docs/reports/review-report.md` |
| 6. QA | QA Report | `ai-docs/docs/reports/qa-report.md` |
| 7. Валидация | Validation Report | `ai-docs/docs/reports/validation-report.md` |
| 8. Деплой | Deployment | Docker Compose |

---

## Команды

### Разработка

```bash
make up          # Запустить все сервисы
make down        # Остановить
make logs        # Просмотр логов
make test        # Запуск тестов
make lint        # Проверка кода
```

### AI-ассистент

> См. полную таблицу команд в секции [Slash-команды](#slash-команды) выше.

---

## Правила для AI

1. **Читать сначала контекст ЦП** (этот файл, .pipeline-state.json, ai-docs/)
2. **Затем инструкции фреймворка** (.aidd/)
3. **Не модифицировать .aidd/** — это read-only submodule
4. **Проверять ворота** перед переходом к следующему этапу
5. **Генерировать код** только в `services/` и корне проекта

---

**Версия шаблона**: 1.1

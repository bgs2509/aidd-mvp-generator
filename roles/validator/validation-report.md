# Функция: Создание Validation Report

> **Назначение**: Формирование финального отчёта валидации.

---

## Цель

Создать структурированный отчёт о результатах валидации,
подтверждающий готовность проекта к деплою.

---

## Структура отчёта

```markdown
# Validation Report: {Название проекта}

**Версия**: 1.0
**Дата**: {YYYY-MM-DD}
**Валидатор**: AI Agent (Валидатор)
**Статус**: ALL_GATES_PASSED / BLOCKED

---

## 1. Обзор

### 1.1 Информация о проекте

| Параметр | Значение |
|----------|----------|
| Название | {name} |
| Режим | CREATE / FEATURE |
| Maturity Level | Level 2 (MVP) |
| Период разработки | {дата начала} — {дата окончания} |

### 1.2 Команда (AI агенты)

| Роль | Статус | Артефакты |
|------|--------|-----------|
| Аналитик | ✓ | PRD |
| Исследователь | ✓/— | Research Report |
| Архитектор | ✓ | Architecture, Plan |
| Реализатор | ✓ | Services |
| Ревьюер | ✓ | Review Report |
| QA | ✓ | QA Report |

---

## 2. Quality Gates

### 2.1 Статус ворот

| # | Ворота | Статус | Дата | Артефакт |
|---|--------|--------|------|----------|
| 1 | PRD_READY | ✓ PASSED | {дата} | prd.md |
| 2 | RESEARCH_DONE | ✓ PASSED / — | {дата} | research.md |
| 3 | PLAN_APPROVED | ✓ PASSED | {дата} | plan.md |
| 4 | IMPLEMENT_OK | ✓ PASSED | {дата} | services/ |
| 5 | REVIEW_OK | ✓ PASSED | {дата} | review-report.md |
| 6 | QA_PASSED | ✓ PASSED | {дата} | qa-report.md |

### 2.2 Детали по воротам

#### PRD_READY

| Критерий | Статус |
|----------|--------|
| Все секции заполнены | ✓ |
| Требования имеют ID | ✓ |
| Приоритеты расставлены | ✓ |
| Критерии приёмки определены | ✓ |
| Нет блокирующих вопросов | ✓ |

#### PLAN_APPROVED

| Критерий | Статус |
|----------|--------|
| Архитектура спроектирована | ✓ |
| Компоненты определены | ✓ |
| API контракты описаны | ✓ |
| Implementation Plan создан | ✓ |

#### IMPLEMENT_OK

| Критерий | Статус |
|----------|--------|
| Все сервисы созданы | ✓ |
| Docker работает | ✓ |
| Health checks проходят | ✓ |

#### REVIEW_OK

| Критерий | Статус |
|----------|--------|
| Архитектура соблюдена | ✓ |
| Конвенции соблюдены | ✓ |
| Нет критических проблем | ✓ |

#### QA_PASSED

| Критерий | Статус |
|----------|--------|
| 100% тестов проходят | ✓ |
| Coverage ≥75% | ✓ ({N}%) |
| Must требования покрыты | ✓ |
| Нет критических дефектов | ✓ |

---

## 3. Артефакты

### 3.1 Документация

| Артефакт | Статус | Путь |
|----------|--------|------|
| PRD | ✓ | ai-docs/docs/prd/{name}-prd.md |
| Architecture | ✓ | ai-docs/docs/architecture/{name}-arch.md |
| Implementation Plan | ✓ | ai-docs/docs/plans/{name}-plan.md |
| Review Report | ✓ | ai-docs/docs/reports/review-report.md |
| QA Report | ✓ | ai-docs/docs/reports/qa-report.md |
| RTM | ✓ | ai-docs/docs/rtm.md |

### 3.2 Код

| Сервис | Статус | Dockerfile | Tests | Coverage |
|--------|--------|------------|-------|----------|
| {context}_api | ✓ | ✓ | ✓ | {N}% |
| {context}_data | ✓ | ✓ | ✓ | {N}% |
| {context}_bot | ✓ | ✓ | ✓ | {N}% |

### 3.3 Инфраструктура

| Артефакт | Статус |
|----------|--------|
| docker-compose.yml | ✓ |
| docker-compose.dev.yml | ✓ |
| .env.example | ✓ |
| Makefile | ✓ |
| CI Pipeline | ✓ |

---

## 4. Requirements Traceability

### 4.1 Сводка

| Приоритет | Всего | Реализовано | Протестировано | % |
|-----------|-------|-------------|----------------|---|
| Must | {N} | {N} | {N} | 100% |
| Should | {N} | {N} | {N} | {N}% |
| Could | {N} | {N} | {N} | {N}% |

### 4.2 RTM выдержка

| Req ID | Описание | Реализация | Тест | Review | QA |
|--------|----------|------------|------|--------|-----|
| FR-001 | {desc} | ✓ | ✓ | ✓ | ✓ |
| FR-002 | {desc} | ✓ | ✓ | ✓ | ✓ |
| NF-001 | {desc} | ✓ | ✓ | ✓ | ✓ |

---

## 5. Метрики качества

### 5.1 Код

| Метрика | Значение | Порог | Статус |
|---------|----------|-------|--------|
| Code Coverage | {N}% | ≥75% | ✓ |
| Lines of Code | {N} | — | — |
| Test Count | {N} | — | — |
| Test Pass Rate | 100% | 100% | ✓ |

### 5.2 Качество

| Метрика | Значение | Порог | Статус |
|---------|----------|-------|--------|
| Critical Defects | 0 | 0 | ✓ |
| Major Defects | {N} | — | — |
| Minor Defects | {N} | — | — |

### 5.3 CI/CD

| Метрика | Значение |
|---------|----------|
| Build Time | {N}s |
| Test Time | {N}s |
| Total Pipeline | {N}s |

---

## 6. Открытые вопросы

### 6.1 Блокирующие

| # | Вопрос | Статус |
|---|--------|--------|
| — | Нет блокирующих вопросов | — |

### 6.2 Не блокирующие

| # | Вопрос | Рекомендация |
|---|--------|--------------|
| 1 | {Вопрос} | {Рекомендация} |

---

## 7. Рекомендации

### 7.1 Для деплоя

1. {Рекомендация по деплою}
2. {Конфигурация для production}

### 7.2 Для развития

1. {Рекомендация по улучшению}
2. {Потенциальные оптимизации}

---

## 8. Заключение

### Общий статус: ALL_GATES_PASSED

### Резюме

{Краткое резюме результатов валидации}

### Готовность к деплою

- [x] Все quality gates пройдены
- [x] Все артефакты на месте
- [x] 100% Must требований реализовано и протестировано
- [x] Нет блокирующих проблем
- [x] CI pipeline проходит

### Решение

**APPROVED FOR DEPLOYMENT**

---

## 9. Подписи

| Роль | Агент | Дата |
|------|-------|------|
| Валидатор | AI Agent | {дата} |

---

## Приложения

### A. Полная RTM

{Ссылка на ai-docs/docs/rtm.md}

### B. Отчёты этапов

- Review Report: ai-docs/docs/reports/review-report.md
- QA Report: ai-docs/docs/reports/qa-report.md

### C. CI/CD логи

{Ссылка на последний успешный CI run}
```

---

## Правила формирования отчёта

### 1. Статус валидации

```
ALL_GATES_PASSED:
- Все 6 качественных ворот пройдены
- Все артефакты на месте
- Нет блокирующих проблем

BLOCKED:
- Хотя бы одни ворота не пройдены
- Отсутствует обязательный артефакт
- Есть блокирующие проблемы
```

### 2. Сбор информации

```
1. Прочитать все отчёты предыдущих этапов
2. Проверить наличие всех артефактов
3. Верифицировать RTM
4. Агрегировать метрики
5. Сформировать заключение
```

---

## Путь сохранения

```
ai-docs/docs/reports/validation-report.md

Или с датой:
ai-docs/docs/reports/{YYYY-MM-DD}-validation-report.md
```

---

## Качественные ворота: ALL_GATES_PASSED

### Критерии прохождения

- [ ] Все quality gates пройдены
- [ ] Все артефакты существуют и актуальны
- [ ] RTM полна и актуальна
- [ ] Нет блокирующих проблем
- [ ] CI pipeline проходит

### Результат

После прохождения:
- Проект готов к деплою
- Можно переходить к этапу DEPLOYED

---

## Источники

| Документ | Описание |
|----------|----------|
| `roles/validator/quality-gates.md` | Проверка ворот |
| `roles/validator/artifact-verification.md` | Проверка артефактов |
| `docs/reports/validation-template.md` | Шаблон отчёта |

# Функция: Формирование PRD

> **Назначение**: Создание финального PRD документа.

---

## Цель

Собрать все требования в структурированный PRD документ,
готовый для передачи на этап архитектуры.

---

## Структура PRD

```markdown
# PRD: {Название проекта}

**Версия**: 1.0
**Дата**: {YYYY-MM-DD}
**Автор**: AI Agent (Аналитик)
**Статус**: Draft | Review | Approved

---

## 1. Обзор

### 1.1 Проблема
{Какую проблему решает проект}

### 1.2 Решение
{Краткое описание предлагаемого решения}

### 1.3 Целевая аудитория
{Кто будет пользоваться системой}

### 1.4 Scope MVP
{Что входит и что НЕ входит в MVP}

---

## 2. Функциональные требования

| ID | Название | Описание | Приоритет | Критерий приёмки |
|----|----------|----------|-----------|------------------|
| FR-001 | | | | |

---

## 3. UI/UX требования

| ID | Название | Описание | Приоритет |
|----|----------|----------|-----------|
| UI-001 | | | |

---

## 4. Нефункциональные требования

| ID | Название | Описание | Метрика |
|----|----------|----------|---------|
| NF-001 | | | |

---

## 5. Ограничения и допущения

### 5.1 Ограничения
- {Технические ограничения}
- {Бизнес-ограничения}

### 5.2 Допущения
- {Что предполагается верным}

---

## 6. Открытые вопросы

| # | Вопрос | Статус | Решение |
|---|--------|--------|---------|
| 1 | | Open/Resolved | |

---

## 7. Матрица трассировки требований

| Req ID | Описание | Статус | Компонент | Тест |
|--------|----------|--------|-----------|------|
| FR-001 | | Pending | — | — |

---

## Качественные ворота

### PRD_READY
- [ ] Все секции заполнены
- [ ] Требования имеют уникальные ID
- [ ] Приоритеты расставлены
- [ ] Критерии приёмки определены
- [ ] Нет блокирующих открытых вопросов
```

---

## Правила формирования

### 1. Обзор (Секция 1)

```
1.1 Проблема:
- Описать боль пользователя
- Почему текущие решения не подходят

1.2 Решение:
- Как проект решает проблему
- Ключевые преимущества

1.3 Целевая аудитория:
- Основные пользователи
- Их характеристики

1.4 Scope MVP:
- Что ВХОДИТ в MVP
- Что НЕ ВХОДИТ (осознанно отложено)
```

### 2. Функциональные требования (Секция 2)

```
Каждое требование:
- Уникальный ID (FR-001, FR-002, ...)
- Краткое название
- Детальное описание
- Приоритет (Must/Should/Could)
- Измеримый критерий приёмки
```

### 3. Нефункциональные требования (Секция 4)

```
Стандартный набор для MVP:
- NF-001: Время отклика (<500ms)
- NF-002: Доступность (99%)
- NF-003: Покрытие тестами (≥75%)
- NF-004: Безопасность (авторизация, валидация)
```

### 4. Открытые вопросы (Секция 6)

```
Вопросы, требующие уточнения.
Статусы:
- Open: Требует решения
- Resolved: Решён (указать решение)

Блокирующие вопросы ДОЛЖНЫ быть решены
до прохождения ворот PRD_READY.
```

### 5. RTM (Секция 7)

```
Начальное состояние матрицы трассировки.
Будет обновляться на этапах реализации и тестирования.
```

---

## Путь сохранения (в целевом проекте)

```
ai-docs/docs/prd/{project-name}-prd.md

Примеры:
- ai-docs/docs/prd/booking-restaurant-prd.md
- ai-docs/docs/prd/personal-finance-prd.md
```

Для режима FEATURE:
```
ai-docs/docs/prd/{feature-name}-feature-prd.md
```

---

## Чек-лист PRD_READY

- [ ] Секция 1 (Обзор) заполнена
- [ ] Секция 2 (FR) содержит все требования
- [ ] Секция 3 (UI) заполнена (если применимо)
- [ ] Секция 4 (NF) содержит стандартные требования
- [ ] Секция 5 (Ограничения) заполнена
- [ ] Секция 6 (Вопросы) не имеет Open блокеров
- [ ] Секция 7 (RTM) инициализирована
- [ ] Все ID уникальны
- [ ] Все Must-требования имеют критерии приёмки
- [ ] Документ сохранён в `ai-docs/docs/prd/` (целевой проект)

---

## Источники

| Документ | Описание |
|----------|----------|
| `.ai-framework/docs/workflows/analyst-workflow.md` | Workflow аналитика |
| `.ai-framework/docs/reference/aidd-roles-reference.md` | Справочник ролей |
| `templates/documents/prd-template.md` | Шаблон PRD |

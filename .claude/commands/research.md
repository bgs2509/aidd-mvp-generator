---
allowed-tools: Read(*), Glob(*), Grep(*), Bash(git :*)
description: Анализ кодовой базы и технологий
---

# Команда: /research

> Запускает Исследователя для анализа кодовой базы и технологий.

---

## Синтаксис

```bash
/research
```

---

## Описание

Команда `/research` выполняет анализ существующего кода (для FEATURE)
или анализ требований и технологий (для CREATE).

---

## Агент

**Исследователь** (`.claude/agents/researcher.md`)

---

## Режимы

| Режим | Поведение |
|-------|-----------|
| **CREATE** | Анализ требований из PRD, выбор технологий |
| **FEATURE** | Анализ существующего кода, выявление паттернов |

---

## Предусловия

| Ворота | Требование |
|--------|------------|
| `PRD_READY` | PRD документ должен существовать |

### Алгоритм проверки

```
1. Проверить существование .pipeline-state.json
2. Если файл отсутствует:
   ❌ Пайплайн не инициализирован
   → Сначала выполните /idea
3. Проверить gates.PRD_READY.passed == true
4. Если ворота не пройдены:
   ❌ Ворота PRD_READY не пройдены
   → Сначала выполните /idea
5. Продолжить выполнение
```

---

## Выходные артефакты

| Артефакт | Описание |
|----------|----------|
| Анализ | Выявленные паттерны, ограничения, рекомендации |

---

## Качественные ворота

### RESEARCH_DONE

| Критерий | Описание |
|----------|----------|
| Анализ кода | Существующий код изучен (для FEATURE) |
| Паттерны | Архитектурные паттерны выявлены |
| Ограничения | Технические ограничения определены |
| Рекомендации | Сформулированы рекомендации |

---

## Примеры использования

```bash
# После /idea
/research
```

---

## Следующий шаг

После прохождения ворот `RESEARCH_DONE`:

```bash
/plan          # для CREATE
/feature-plan  # для FEATURE
```
